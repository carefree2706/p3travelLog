{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,n){},71:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){\"use strict\";n.r(t);var c=n(2),a=n.n(c),s=n(41),r=n.n(s),l=n(14),o=n.n(l),i=n(13),u=n(16),j=n(21),b=n(8),d=(n(51),n(19)),O=n(88),p=n(90),h=n(17),m=n.n(h),x=n(44),f=n(89),g=(n(71),n(4));function v(e){var t=e.setShowRegister,n=Object(c.useState)(!1),a=Object(b.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(!1),i=Object(b.a)(l,2),j=i[0],d=i[1],p=Object(c.useRef)(),h=Object(c.useRef)(),x=Object(c.useRef)(),v=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:p.current.value,email:h.current.value,password:x.current.value},e.prev=2,e.next=5,m.a.post(\"/users/register\",n);case 5:d(!1),r(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),d(!0);case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(\"div\",{className:\"registerContainer\",children:[Object(g.jsxs)(\"div\",{className:\"logo\",children:[Object(g.jsx)(O.a,{className:\"logoIcon\"}),Object(g.jsx)(\"span\",{children:\"Journey\"})]}),Object(g.jsxs)(\"form\",{onSubmit:v,children:[Object(g.jsx)(\"input\",{autoFocus:!0,placeholder:\"username\",ref:p}),Object(g.jsx)(\"input\",{type:\"email\",placeholder:\"email\",ref:h}),Object(g.jsx)(\"input\",{type:\"password\",min:\"6\",placeholder:\"password\",ref:x}),Object(g.jsx)(\"button\",{className:\"registerBtn\",type:\"submit\",children:\"Register\"}),s&&Object(g.jsx)(\"span\",{className:\"success\",children:\"Successfull. You can login now!\"}),j&&Object(g.jsx)(\"span\",{className:\"failure\",children:\"Something went wrong!\"})]}),Object(g.jsx)(f.a,{className:\"registerCancel\",onClick:function(){return t(!1)}})]})}n(75);function w(e){var t=e.setShowLogin,n=e.setCurrentUsername,a=e.myStorage,s=Object(c.useState)(!1),r=Object(b.a)(s,2),l=r[0],i=r[1],j=Object(c.useRef)(),d=Object(c.useRef)(),p=function(){var e=Object(u.a)(o.a.mark((function e(c){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s={username:j.current.value,password:d.current.value},e.prev=2,e.next=5,m.a.post(\"/users/login\",s);case 5:r=e.sent,n(r.data.username),a.setItem(\"user\",r.data.username),t(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),i(!0);case 14:case\"end\":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(\"div\",{className:\"loginContainer\",children:[Object(g.jsxs)(\"div\",{className:\"logo\",children:[Object(g.jsx)(O.a,{className:\"logoIcon\"}),Object(g.jsx)(\"span\",{children:\"Journey\"})]}),Object(g.jsxs)(\"form\",{onSubmit:p,children:[Object(g.jsx)(\"input\",{autoFocus:!0,placeholder:\"username\",ref:j}),Object(g.jsx)(\"input\",{type:\"password\",min:\"6\",placeholder:\"password\",ref:d}),Object(g.jsx)(\"button\",{className:\"loginBtn\",type:\"submit\",children:\"Login\"}),l&&Object(g.jsx)(\"span\",{className:\"failure\",children:\"Something went wrong!\"})]}),Object(g.jsx)(f.a,{className:\"loginCancel\",onClick:function(){return t(!1)}})]})}var S=function(){var e=window.localStorage,t=Object(c.useState)(e.getItem(\"user\")),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),l=Object(b.a)(r,2),h=l[0],f=l[1],S=Object(c.useState)(null),N=Object(b.a)(S,2),C=N[0],k=N[1],y=Object(c.useState)(null),R=Object(b.a)(y,2),z=R[0],I=R[1],J=Object(c.useState)(null),L=Object(b.a)(J,2),A=L[0],B=L[1],D=Object(c.useState)(null),F=Object(b.a)(D,2),T=F[0],E=F[1],U=Object(c.useState)(0),Y=Object(b.a)(U,2),_=Y[0],q=Y[1],G=Object(c.useState)({latitude:47.040182,longitude:17.071727,zoom:4}),M=Object(b.a)(G,2),P=M[0],W=M[1],Z=Object(c.useState)(!1),H=Object(b.a)(Z,2),V=H[0],X=H[1],K=Object(c.useState)(!1),Q=Object(b.a)(K,2),$=Q[0],ee=Q[1],te=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:a,title:A,desc:T,rating:_,lat:z.lat,long:z.long},e.prev=2,e.next=5,m.a.post(\"/pins\",n);case 5:c=e.sent,f([].concat(Object(i.a)(h),[c.data])),I(null),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(\"/pin\");case 3:t=e.sent,f(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(g.jsx)(\"div\",{style:{height:\"100vh\",width:\"100%\"},children:Object(g.jsxs)(d.c,Object(j.a)(Object(j.a)({},P),{},{mapboxApiAccessToken:\"pk.eyJ1IjoiZG9uYWxkd3UiLCJhIjoiY2twNGxwcXdpMWlsNjJ0cHFnejR4dTE1ZSJ9.AcvCnOeSCehrep6Jt57mmA\",width:\"100%\",height:\"100%\",transitionDuration:\"20\",mapStyle:\"mapbox://styles/donaldwu/ckp4oxxuq1s1q17mz2k2989vc\",onViewportChange:function(e){return W(e)},onDblClick:a&&function(e){var t=Object(b.a)(e.lngLat,2),n=t[0],c=t[1];I({lat:c,long:n})},children:[h.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{latitude:e.lat,longitude:e.long,offsetLeft:-3.5*P.zoom,offsetTop:-7*P.zoom,children:Object(g.jsx)(O.a,{style:{fontSize:7*P.zoom,color:a===e.username?\"tomato\":\"slateblue\",cursor:\"pointer\"},onClick:function(){return t=e._id,n=e.lat,c=e.long,k(t),void W(Object(j.a)(Object(j.a)({},P),{},{latitude:n,longitude:c}));var t,n,c}})}),e._id===C&&Object(g.jsx)(d.b,{latitude:e.lat,longitude:e.long,closeButton:!0,closeOnClick:!1,onClose:function(){return k(null)},anchor:\"left\",children:Object(g.jsxs)(\"div\",{className:\"card\",children:[Object(g.jsx)(\"label\",{children:\"Place\"}),Object(g.jsx)(\"h4\",{className:\"place\",children:e.title}),Object(g.jsx)(\"label\",{children:\"Review\"}),Object(g.jsx)(\"p\",{className:\"desc\",children:e.desc}),Object(g.jsx)(\"label\",{children:\"Rating\"}),Object(g.jsx)(\"div\",{className:\"stars\",children:Array(e.rating).fill(Object(g.jsx)(p.a,{className:\"star\"}))}),Object(g.jsx)(\"label\",{children:\"Information\"}),Object(g.jsxs)(\"span\",{className:\"username\",children:[\"Created by \",Object(g.jsx)(\"b\",{children:e.username})]}),Object(g.jsx)(\"span\",{className:\"date\",children:Object(x.a)(e.createdAt)})]})},e._id)]})})),z&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{latitude:z.lat,longitude:z.long,offsetLeft:-3.5*P.zoom,offsetTop:-7*P.zoom,children:Object(g.jsx)(O.a,{style:{fontSize:7*P.zoom,color:\"tomato\",cursor:\"pointer\"}})}),Object(g.jsx)(d.b,{latitude:z.lat,longitude:z.long,closeButton:!0,closeOnClick:!1,onClose:function(){return I(null)},anchor:\"left\",children:Object(g.jsx)(\"div\",{children:Object(g.jsxs)(\"form\",{onSubmit:te,children:[Object(g.jsx)(\"label\",{children:\"Title\"}),Object(g.jsx)(\"input\",{placeholder:\"Enter a title\",autoFocus:!0,onChange:function(e){return B(e.target.value)}}),Object(g.jsx)(\"label\",{children:\"Description\"}),Object(g.jsx)(\"textarea\",{placeholder:\"Say us something about this place.\",onChange:function(e){return E(e.target.value)}}),Object(g.jsx)(\"label\",{children:\"Rating\"}),Object(g.jsxs)(\"select\",{onChange:function(e){return q(e.target.value)},children:[Object(g.jsx)(\"option\",{value:\"1\",children:\"1\"}),Object(g.jsx)(\"option\",{value:\"2\",children:\"2\"}),Object(g.jsx)(\"option\",{value:\"3\",children:\"3\"}),Object(g.jsx)(\"option\",{value:\"4\",children:\"4\"}),Object(g.jsx)(\"option\",{value:\"5\",children:\"5\"})]}),Object(g.jsx)(\"button\",{type:\"submit\",className:\"submitButton\",children:\"Add Pin\"})]})})})]}),a?Object(g.jsx)(\"button\",{className:\"button logout\",onClick:function(){s(null),e.removeItem(\"user\")},children:\"Log out\"}):Object(g.jsxs)(\"div\",{className:\"buttons\",children:[Object(g.jsx)(\"button\",{className:\"button login\",onClick:function(){return ee(!0)},children:\"Log in\"}),Object(g.jsx)(\"button\",{className:\"button register\",onClick:function(){return X(!0)},children:\"Register\"})]}),V&&Object(g.jsx)(v,{setShowRegister:X}),$&&Object(g.jsx)(w,{setShowLogin:ee,setCurrentUsername:s,myStorage:e})]}))})};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById(\"root\"))}},[[76,1,2]]]);","name":"static/js/main.635950ec.chunk.js","map":{"version":3,"sources":["static/js/main.635950ec.chunk.js"],"names":["this","push","51","module","exports","__webpack_require__","71","75","76","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","objectSpread2","slicedToArray","esm","Room","Star","axios","axios_default","timeago_js_esm","Cancel","jsx_runtime","Register","_ref","setShowRegister","_useState","Object","_useState2","success","setSuccess","_useState3","_useState4","error","setError","usernameRef","emailRef","passwordRef","handleSubmit","_ref2","a","mark","_callee","e","newUser","wrap","_context","prev","next","preventDefault","username","current","value","email","password","post","t0","stop","_x","apply","arguments","className","children","onSubmit","autoFocus","placeholder","ref","type","min","onClick","Login","setShowLogin","setCurrentUsername","myStorage","user","res","sent","data","setItem","src_App","window","localStorage","getItem","currentUsername","pins","setPins","_useState5","_useState6","currentPlaceId","setCurrentPlaceId","_useState7","_useState8","newPlace","setNewPlace","_useState9","_useState10","title","setTitle","_useState11","_useState12","desc","setDesc","_useState13","_useState14","star","setStar","_useState15","latitude","longitude","zoom","_useState16","viewport","setViewport","_useState17","_useState18","showRegister","_useState19","_useState20","showLogin","newPin","rating","lat","long","concat","console","log","_callee2","allPins","_context2","get","getPins","style","height","width","mapboxApiAccessToken","transitionDuration","mapStyle","onViewportChange","onDblClick","_e$lngLat","lngLat","map","p","offsetLeft","offsetTop","fontSize","color","cursor","id","_id","closeButton","closeOnClick","onClose","anchor","Array","fill","createdAt","onChange","target","removeItem","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(41);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(14);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/app.css\nvar app = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/react-map-gl/dist/esm/index.js + 69 modules\nvar esm = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Room.js\nvar Room = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Star.js\nvar Star = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(17);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/timeago.js/esm/index.js + 7 modules\nvar timeago_js_esm = __webpack_require__(44);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Cancel.js\nvar Cancel = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./src/components/register.css\nvar register = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/components/Register.jsx\nfunction Register(_ref){var setShowRegister=_ref.setShowRegister;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var usernameRef=Object(react[\"useRef\"])();var emailRef=Object(react[\"useRef\"])();var passwordRef=Object(react[\"useRef\"])();var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var newUser;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();newUser={username:usernameRef.current.value,email:emailRef.current.value,password:passwordRef.current.value};_context.prev=2;_context.next=5;return axios_default.a.post(\"/users/register\",newUser);case 5:setError(false);setSuccess(true);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);setError(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"registerContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"logo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room[\"a\" /* default */],{className:\"logoIcon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Journey\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{autoFocus:true,placeholder:\"username\",ref:usernameRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"email\",ref:emailRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",min:\"6\",placeholder:\"password\",ref:passwordRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"registerBtn\",type:\"submit\",children:\"Register\"}),success&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"success\",children:\"Successfull. You can login now!\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"failure\",children:\"Something went wrong!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Cancel[\"a\" /* default */],{className:\"registerCancel\",onClick:function onClick(){return setShowRegister(false);}})]});}\n// EXTERNAL MODULE: ./src/components/login.css\nvar login = __webpack_require__(75);\n\n// CONCATENATED MODULE: ./src/components/Login.jsx\nfunction Login(_ref){var setShowLogin=_ref.setShowLogin,setCurrentUsername=_ref.setCurrentUsername,myStorage=_ref.myStorage;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var usernameRef=Object(react[\"useRef\"])();var passwordRef=Object(react[\"useRef\"])();var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var user,res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();user={username:usernameRef.current.value,password:passwordRef.current.value};_context.prev=2;_context.next=5;return axios_default.a.post(\"/users/login\",user);case 5:res=_context.sent;setCurrentUsername(res.data.username);myStorage.setItem('user',res.data.username);setShowLogin(false);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);setError(true);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"logo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room[\"a\" /* default */],{className:\"logoIcon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Journey\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{autoFocus:true,placeholder:\"username\",ref:usernameRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",min:\"6\",placeholder:\"password\",ref:passwordRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"loginBtn\",type:\"submit\",children:\"Login\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"failure\",children:\"Something went wrong!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Cancel[\"a\" /* default */],{className:\"loginCancel\",onClick:function onClick(){return setShowLogin(false);}})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){var myStorage=window.localStorage;var _useState=Object(react[\"useState\"])(myStorage.getItem(\"user\")),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentUsername=_useState2[0],setCurrentUsername=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),pins=_useState4[0],setPins=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),currentPlaceId=_useState6[0],setCurrentPlaceId=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newPlace=_useState8[0],setNewPlace=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),title=_useState10[0],setTitle=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),desc=_useState12[0],setDesc=_useState12[1];var _useState13=Object(react[\"useState\"])(0),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),star=_useState14[0],setStar=_useState14[1];var _useState15=Object(react[\"useState\"])({latitude:47.040182,longitude:17.071727,zoom:4}),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),viewport=_useState16[0],setViewport=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),showRegister=_useState18[0],setShowRegister=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),showLogin=_useState20[0],setShowLogin=_useState20[1];var handleMarkerClick=function handleMarkerClick(id,lat,long){setCurrentPlaceId(id);setViewport(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},viewport),{},{latitude:lat,longitude:long}));};var handleAddClick=function handleAddClick(e){var _e$lngLat=Object(slicedToArray[\"a\" /* default */])(e.lngLat,2),longitude=_e$lngLat[0],latitude=_e$lngLat[1];setNewPlace({lat:latitude,long:longitude});};var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var newPin,res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();newPin={username:currentUsername,title:title,desc:desc,rating:star,lat:newPlace.lat,long:newPlace.long};_context.prev=2;_context.next=5;return axios_default.a.post(\"/pins\",newPin);case 5:res=_context.sent;setPins([].concat(Object(toConsumableArray[\"a\" /* default */])(pins),[res.data]));setNewPlace(null);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){var getPins=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var allPins;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios_default.a.get(\"/pin\");case 3:allPins=_context2.sent;setPins(allPins.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getPins(){return _ref2.apply(this,arguments);};}();getPins();},[]);var handleLogout=function handleLogout(){setCurrentUsername(null);myStorage.removeItem(\"user\");};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:\"100vh\",width:\"100%\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm[\"c\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},viewport),{},{mapboxApiAccessToken:\"pk.eyJ1IjoiZG9uYWxkd3UiLCJhIjoiY2twNGxwcXdpMWlsNjJ0cHFnejR4dTE1ZSJ9.AcvCnOeSCehrep6Jt57mmA\",width:\"100%\",height:\"100%\",transitionDuration:\"20\",mapStyle:\"mapbox://styles/donaldwu/ckp4oxxuq1s1q17mz2k2989vc\",onViewportChange:function onViewportChange(viewport){return setViewport(viewport);},onDblClick:currentUsername&&handleAddClick,children:[pins.map(function(p){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"a\" /* Marker */],{latitude:p.lat,longitude:p.long,offsetLeft:-3.5*viewport.zoom,offsetTop:-7*viewport.zoom,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room[\"a\" /* default */],{style:{fontSize:7*viewport.zoom,color:currentUsername===p.username?\"tomato\":\"slateblue\",cursor:\"pointer\"},onClick:function onClick(){return handleMarkerClick(p._id,p.lat,p.long);}})}),p._id===currentPlaceId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"b\" /* Popup */],{latitude:p.lat,longitude:p.long,closeButton:true,closeOnClick:false,onClose:function onClose(){return setCurrentPlaceId(null);},anchor:\"left\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Place\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"place\",children:p.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Review\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"desc\",children:p.desc}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Rating\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stars\",children:Array(p.rating).fill(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Star[\"a\" /* default */],{className:\"star\"}))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Information\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"username\",children:[\"Created by \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:p.username})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"date\",children:Object(timeago_js_esm[\"a\" /* format */])(p.createdAt)})]})},p._id)]});}),newPlace&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"a\" /* Marker */],{latitude:newPlace.lat,longitude:newPlace.long,offsetLeft:-3.5*viewport.zoom,offsetTop:-7*viewport.zoom,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room[\"a\" /* default */],{style:{fontSize:7*viewport.zoom,color:\"tomato\",cursor:\"pointer\"}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"b\" /* Popup */],{latitude:newPlace.lat,longitude:newPlace.long,closeButton:true,closeOnClick:false,onClose:function onClose(){return setNewPlace(null);},anchor:\"left\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Enter a title\",autoFocus:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Say us something about this place.\",onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Rating\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{onChange:function onChange(e){return setStar(e.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"5\",children:\"5\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"submitButton\",children:\"Add Pin\"})]})})})]}),currentUsername?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button logout\",onClick:handleLogout,children:\"Log out\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button login\",onClick:function onClick(){return setShowLogin(true);},children:\"Log in\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button register\",onClick:function onClick(){return setShowRegister(true);},children:\"Register\"})]}),showRegister&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register,{setShowRegister:setShowRegister}),showLogin&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{setShowLogin:setShowLogin,setCurrentUsername:setCurrentUsername,myStorage:myStorage})]}))});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[76,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/postcss-loader/src/index.js??postcss!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/app.css","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/postcss-loader/src/index.js??postcss!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/components/register.css","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/node_modules/postcss-loader/src/index.js??postcss!/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/components/login.css","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/components/Register.jsx","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/components/Login.jsx","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/App.js","/Users/thedon/Desktop/uadel-adel-fsf-pt-11-2020-u-c/uadel-adel-fsf-pt-11-2020-u-c/p3travelLog/client/src/index.js"],"names":["Register","setShowRegister","useState","success","setSuccess","error","setError","usernameRef","useRef","emailRef","passwordRef","handleSubmit","e","preventDefault","newUser","username","current","value","email","password","axios","post","Login","setShowLogin","setCurrentUsername","myStorage","user","res","data","setItem","App","window","localStorage","getItem","currentUsername","pins","setPins","currentPlaceId","setCurrentPlaceId","newPlace","setNewPlace","title","setTitle","desc","setDesc","star","setStar","latitude","longitude","zoom","viewport","setViewport","showRegister","showLogin","handleMarkerClick","id","lat","long","handleAddClick","lngLat","newPin","rating","console","log","useEffect","getPins","get","allPins","handleLogout","removeItem","height","width","process","map","p","fontSize","color","cursor","_id","Array","fill","format","createdAt","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { Cancel, Room } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport \"./register.css\";\n\nexport default function Register({ setShowRegister }) {\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newUser = {\n      username: usernameRef.current.value,\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    };\n\n    try {\n      await axios.post(\"/users/register\", newUser);\n      setError(false);\n      setSuccess(true);\n    } catch (err) {\n      setError(true);\n    }\n  };\n  return (\n    <div className=\"registerContainer\">\n      <div className=\"logo\">\n        <Room className=\"logoIcon\" />\n        <span>Journey</span>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input autoFocus placeholder=\"username\" ref={usernameRef} />\n        <input type=\"email\" placeholder=\"email\" ref={emailRef} />\n        <input\n          type=\"password\"\n          min=\"6\"\n          placeholder=\"password\"\n          ref={passwordRef}\n        />\n        <button className=\"registerBtn\" type=\"submit\">\n          Register\n        </button>\n        {success && (\n          <span className=\"success\">Successfull. You can login now!</span>\n        )}\n        {error && <span className=\"failure\">Something went wrong!</span>}\n      </form>\n      <Cancel\n        className=\"registerCancel\"\n        onClick={() => setShowRegister(false)}\n      />\n    </div>\n  );\n}\n","import { Cancel, Room } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport \"./login.css\";\n\nexport default function Login({ setShowLogin, setCurrentUsername,myStorage }) {\n  const [error, setError] = useState(false);\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const user = {\n      username: usernameRef.current.value,\n      password: passwordRef.current.value,\n    };\n    try {\n      const res = await axios.post(\"/users/login\", user);\n      setCurrentUsername(res.data.username);\n      myStorage.setItem('user', res.data.username);\n      setShowLogin(false)\n    } catch (err) {\n      setError(true);\n    }\n  };\n\n  return (\n    <div className=\"loginContainer\">\n      <div className=\"logo\">\n        <Room className=\"logoIcon\" />\n        <span>Journey</span>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input autoFocus placeholder=\"username\" ref={usernameRef} />\n        <input\n          type=\"password\"\n          min=\"6\"\n          placeholder=\"password\"\n          ref={passwordRef}\n        />\n        <button className=\"loginBtn\" type=\"submit\">\n          Login\n        </button>\n        {error && <span className=\"failure\">Something went wrong!</span>}\n      </form>\n      <Cancel className=\"loginCancel\" onClick={() => setShowLogin(false)} />\n    </div>\n  );\n}\n","import \"./app.css\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { useEffect, useState } from \"react\";\nimport { Room, Star } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  const myStorage = window.localStorage;\n  const [currentUsername, setCurrentUsername] = useState(myStorage.getItem(\"user\"));\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [newPlace, setNewPlace] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [desc, setDesc] = useState(null);\n  const [star, setStar] = useState(0);\n  const [viewport, setViewport] = useState({\n    latitude: 47.040182,\n    longitude: 17.071727,\n    zoom: 4,\n  });\n  const [showRegister, setShowRegister] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n\n  const handleMarkerClick = (id, lat, long) => {\n    setCurrentPlaceId(id);\n    setViewport({ ...viewport, latitude: lat, longitude: long });\n  };\n\n  const handleAddClick = (e) => {\n    const [longitude, latitude] = e.lngLat;\n    setNewPlace({\n      lat: latitude,\n      long: longitude,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newPin = {\n      username: currentUsername,\n      title,\n      desc,\n      rating: star,\n      lat: newPlace.lat,\n      long: newPlace.long,\n    };\n\n    try {\n      const res = await axios.post(\"/pins\", newPin);\n      setPins([...pins, res.data]);\n      setNewPlace(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const allPins = await axios.get(\"/pin\");\n        setPins(allPins.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getPins();\n  }, []);\n\n  const handleLogout = () => {\n    setCurrentUsername(null);\n    myStorage.removeItem(\"user\");\n  };\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100%\" }}>\n      <ReactMapGL\n        {...viewport}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n        width=\"100%\"\n        height=\"100%\"\n        transitionDuration=\"20\"\n        mapStyle=\"mapbox://styles/donaldwu/ckp4oxxuq1s1q17mz2k2989vc\"\n        onViewportChange={(viewport) => setViewport(viewport)}\n        onDblClick={currentUsername && handleAddClick}\n      >\n        {pins.map((p) => (\n          <>\n            <Marker\n              latitude={p.lat}\n              longitude={p.long}\n              offsetLeft={-3.5 * viewport.zoom}\n              offsetTop={-7 * viewport.zoom}\n            >\n              <Room\n                style={{\n                  fontSize: 7 * viewport.zoom,\n                  color:\n                    currentUsername === p.username ? \"tomato\" : \"slateblue\",\n                  cursor: \"pointer\",\n                }}\n                onClick={() => handleMarkerClick(p._id, p.lat, p.long)}\n              />\n            </Marker>\n            {p._id === currentPlaceId && (\n              <Popup\n                key={p._id}\n                latitude={p.lat}\n                longitude={p.long}\n                closeButton={true}\n                closeOnClick={false}\n                onClose={() => setCurrentPlaceId(null)}\n                anchor=\"left\"\n              >\n                <div className=\"card\">\n                  <label>Place</label>\n                  <h4 className=\"place\">{p.title}</h4>\n                  <label>Review</label>\n                  <p className=\"desc\">{p.desc}</p>\n                  <label>Rating</label>\n                  <div className=\"stars\">\n                    {Array(p.rating).fill(<Star className=\"star\" />)}\n                  </div>\n                  <label>Information</label>\n                  <span className=\"username\">\n                    Created by <b>{p.username}</b>\n                  </span>\n                  <span className=\"date\">{format(p.createdAt)}</span>\n                </div>\n              </Popup>\n            )}\n          </>\n        ))}\n        {newPlace && (\n          <>\n            <Marker\n              latitude={newPlace.lat}\n              longitude={newPlace.long}\n              offsetLeft={-3.5 * viewport.zoom}\n              offsetTop={-7 * viewport.zoom}\n            >\n              <Room\n                style={{\n                  fontSize: 7 * viewport.zoom,\n                  color: \"tomato\",\n                  cursor: \"pointer\",\n                }}\n              />\n            </Marker>\n            <Popup\n              latitude={newPlace.lat}\n              longitude={newPlace.long}\n              closeButton={true}\n              closeOnClick={false}\n              onClose={() => setNewPlace(null)}\n              anchor=\"left\"\n            >\n              <div>\n                <form onSubmit={handleSubmit}>\n                  <label>Title</label>\n                  <input\n                    placeholder=\"Enter a title\"\n                    autoFocus\n                    onChange={(e) => setTitle(e.target.value)}\n                  />\n                  <label>Description</label>\n                  <textarea\n                    placeholder=\"Say us something about this place.\"\n                    onChange={(e) => setDesc(e.target.value)}\n                  />\n                  <label>Rating</label>\n                  <select onChange={(e) => setStar(e.target.value)}>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                  </select>\n                  <button type=\"submit\" className=\"submitButton\">\n                    Add Pin\n                  </button>\n                </form>\n              </div>\n            </Popup>\n          </>\n        )}\n        {currentUsername ? (\n          <button className=\"button logout\" onClick={handleLogout}>\n            Log out\n          </button>\n        ) : (\n          <div className=\"buttons\">\n            <button className=\"button login\" onClick={() => setShowLogin(true)}>\n              Log in\n            </button>\n            <button\n              className=\"button register\"\n              onClick={() => setShowRegister(true)}\n            >\n              Register\n            </button>\n          </div>\n        )}\n        {showRegister && <Register setShowRegister={setShowRegister} />}\n        {showLogin && (\n          <Login\n            setShowLogin={setShowLogin}\n            setCurrentUsername={setCurrentUsername}\n            myStorage={myStorage}\n          />\n        )}\n      </ReactMapGL>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"]}}